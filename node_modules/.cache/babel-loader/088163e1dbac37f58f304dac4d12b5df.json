{"ast":null,"code":"import axios from 'axios';\nexport default class UserServices {\n  constructor() {\n    this.axios = axios.create({\n      baseURL: \"http://localhost:56624\" + '/api'\n    });\n  }\n\n  async login(parUsuario, parSenha) {\n    const {\n      data\n    } = await this.axios.get('/ValidarUsuario', dados);\n\n    if (data) {\n      localStorage.setItem(\"nome\", data.user.nome);\n      localStorage.setItem(\"email\", data.user.email);\n      localStorage.setItem(\"token\", data.token.token);\n      return true;\n    }\n\n    return;\n  }\n\n  async cadastrar(dados) {\n    return this.axios.post('/user', dados);\n  }\n\n  usuarioAutenticado() {\n    return localStorage.getItem(\"token\") != undefined ? true : false; // return typeof localStorage.getItem(\"token\")\n  } //Desafio ---> implemente um botão que chama essa função dentro da página Home\n\n\n  async logout() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"nome\");\n    localStorage.removeItem(\"email\");\n  }\n\n}","map":{"version":3,"names":["axios","UserServices","constructor","create","baseURL","login","parUsuario","parSenha","data","get","dados","localStorage","setItem","user","nome","email","token","cadastrar","post","usuarioAutenticado","getItem","undefined","logout","removeItem"],"sources":["C:/reactnative/TescaroTechAviacaoWeb/src/API/UserService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport default class UserServices {\r\n  constructor () {\r\n    this.axios = axios.create({\r\n      baseURL: \"http://localhost:56624\" + '/api'\r\n    })\r\n  }\r\n\r\n  async login (parUsuario,parSenha) {\r\n    const {data} = await this.axios.get('/ValidarUsuario', dados)\r\n\r\n    if (data) {\r\n      localStorage.setItem(\"nome\", data.user.nome)\r\n      localStorage.setItem(\"email\", data.user.email)\r\n      localStorage.setItem(\"token\", data.token.token)\r\n\r\n      return true\r\n    }\r\n\r\n    return\r\n  }\r\n\r\n  async cadastrar (dados) {\r\n    return this.axios.post('/user', dados)\r\n  }\r\n\r\n  usuarioAutenticado () {\r\n    return localStorage.getItem(\"token\") != undefined ? true : false\r\n    // return typeof localStorage.getItem(\"token\")\r\n  }\r\n\r\n  //Desafio ---> implemente um botão que chama essa função dentro da página Home\r\n  async logout () {\r\n    localStorage.removeItem(\"token\")\r\n    localStorage.removeItem(\"nome\")\r\n    localStorage.removeItem(\"email\")\r\n  }\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,YAAN,CAAmB;EAChCC,WAAW,GAAI;IACb,KAAKF,KAAL,GAAaA,KAAK,CAACG,MAAN,CAAa;MACxBC,OAAO,EAAE,2BAA2B;IADZ,CAAb,CAAb;EAGD;;EAEU,MAALC,KAAK,CAAEC,UAAF,EAAaC,QAAb,EAAuB;IAChC,MAAM;MAACC;IAAD,IAAS,MAAM,KAAKR,KAAL,CAAWS,GAAX,CAAe,iBAAf,EAAkCC,KAAlC,CAArB;;IAEA,IAAIF,IAAJ,EAAU;MACRG,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BJ,IAAI,CAACK,IAAL,CAAUC,IAAvC;MACAH,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACK,IAAL,CAAUE,KAAxC;MACAJ,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACQ,KAAL,CAAWA,KAAzC;MAEA,OAAO,IAAP;IACD;;IAED;EACD;;EAEc,MAATC,SAAS,CAAEP,KAAF,EAAS;IACtB,OAAO,KAAKV,KAAL,CAAWkB,IAAX,CAAgB,OAAhB,EAAyBR,KAAzB,CAAP;EACD;;EAEDS,kBAAkB,GAAI;IACpB,OAAOR,YAAY,CAACS,OAAb,CAAqB,OAArB,KAAiCC,SAAjC,GAA6C,IAA7C,GAAoD,KAA3D,CADoB,CAEpB;EACD,CA5B+B,CA8BhC;;;EACY,MAANC,MAAM,GAAI;IACdX,YAAY,CAACY,UAAb,CAAwB,OAAxB;IACAZ,YAAY,CAACY,UAAb,CAAwB,MAAxB;IACAZ,YAAY,CAACY,UAAb,CAAwB,OAAxB;EACD;;AAnC+B"},"metadata":{},"sourceType":"module"}