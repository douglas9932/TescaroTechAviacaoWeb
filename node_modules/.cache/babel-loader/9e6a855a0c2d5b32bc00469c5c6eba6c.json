{"ast":null,"code":"import Api from \"./Api\";\nexport default class UserServices {\n  async login(parUsuario, parSenha) {\n    const {\n      data\n    } = await Api.get('/ValidarUsuario');\n\n    if (data) {\n      localStorage.setItem(\"nome\", data.user.nome);\n      localStorage.setItem(\"email\", data.user.email);\n      localStorage.setItem(\"token\", data.token.token);\n      return true;\n    }\n\n    return;\n  }\n\n  async cadastrar(dados) {\n    return Api.post('/user', dados);\n  }\n\n  usuarioAutenticado() {\n    return localStorage.getItem(\"token\") != undefined ? true : false; // return typeof localStorage.getItem(\"token\")\n  } //Desafio ---> implemente um botão que chama essa função dentro da página Home\n\n\n  async logout() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"nome\");\n    localStorage.removeItem(\"email\");\n  }\n\n}","map":{"version":3,"names":["Api","UserServices","login","parUsuario","parSenha","data","get","localStorage","setItem","user","nome","email","token","cadastrar","dados","post","usuarioAutenticado","getItem","undefined","logout","removeItem"],"sources":["C:/reactnative/TescaroTechAviacaoWeb/src/API/UserService.tsx"],"sourcesContent":["import Api from \"./Api\"\r\n\r\nexport default class UserServices {\r\n  \r\n  async login (parUsuario:string,parSenha:string) {\r\n    const {data} = await Api.get('/ValidarUsuario')\r\n\r\n    if (data) {\r\n      localStorage.setItem(\"nome\", data.user.nome)\r\n      localStorage.setItem(\"email\", data.user.email)\r\n      localStorage.setItem(\"token\", data.token.token)\r\n\r\n      return true\r\n    }\r\n\r\n    return\r\n  }\r\n\r\n  async cadastrar (dados: any) {\r\n    return Api.post('/user', dados)\r\n  }\r\n\r\n  usuarioAutenticado () {\r\n    return localStorage.getItem(\"token\") != undefined ? true : false\r\n    // return typeof localStorage.getItem(\"token\")\r\n  }\r\n\r\n  //Desafio ---> implemente um botão que chama essa função dentro da página Home\r\n  async logout () {\r\n    localStorage.removeItem(\"token\")\r\n    localStorage.removeItem(\"nome\")\r\n    localStorage.removeItem(\"email\")\r\n  }\r\n}"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,OAAhB;AAEA,eAAe,MAAMC,YAAN,CAAmB;EAErB,MAALC,KAAK,CAAEC,UAAF,EAAoBC,QAApB,EAAqC;IAC9C,MAAM;MAACC;IAAD,IAAS,MAAML,GAAG,CAACM,GAAJ,CAAQ,iBAAR,CAArB;;IAEA,IAAID,IAAJ,EAAU;MACRE,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BH,IAAI,CAACI,IAAL,CAAUC,IAAvC;MACAH,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,IAAI,CAACI,IAAL,CAAUE,KAAxC;MACAJ,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,IAAI,CAACO,KAAL,CAAWA,KAAzC;MAEA,OAAO,IAAP;IACD;;IAED;EACD;;EAEc,MAATC,SAAS,CAAEC,KAAF,EAAc;IAC3B,OAAOd,GAAG,CAACe,IAAJ,CAAS,OAAT,EAAkBD,KAAlB,CAAP;EACD;;EAEDE,kBAAkB,GAAI;IACpB,OAAOT,YAAY,CAACU,OAAb,CAAqB,OAArB,KAAiCC,SAAjC,GAA6C,IAA7C,GAAoD,KAA3D,CADoB,CAEpB;EACD,CAvB+B,CAyBhC;;;EACY,MAANC,MAAM,GAAI;IACdZ,YAAY,CAACa,UAAb,CAAwB,OAAxB;IACAb,YAAY,CAACa,UAAb,CAAwB,MAAxB;IACAb,YAAY,CAACa,UAAb,CAAwB,OAAxB;EACD;;AA9B+B"},"metadata":{},"sourceType":"module"}